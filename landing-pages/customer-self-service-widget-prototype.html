<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Customer Self-Service Widget Prototype</title>
  <meta name="description" content="Standalone customer self-service configurator widget prototype." />
  <style>
    :root {
      --bg-0: #f3f6fb;
      --bg-1: #ffffff;
      --ink-0: #0f1c33;
      --ink-1: #405377;
      --line: #d8e2f2;
      --accent: #0b6bcb;
      --accent-2: #0a8f7b;
      --warn: #b53a2f;
      --good: #0a7a56;
      --shadow: 0 22px 45px rgba(17, 45, 89, 0.12);
      --radius-lg: 20px;
      --radius-md: 12px;
      --radius-sm: 9px;
      --card-pad: clamp(16px, 2.2vw, 24px);
      --ease: cubic-bezier(.2,.8,.2,1);
    }

    * { box-sizing: border-box; }

    html,
    body {
      margin: 0;
      padding: 0;
      color: var(--ink-0);
      background:
        radial-gradient(900px 500px at -10% -15%, rgba(11, 107, 203, 0.16), transparent 60%),
        radial-gradient(850px 500px at 110% -20%, rgba(10, 143, 123, 0.14), transparent 60%),
        linear-gradient(180deg, #f7f9fe 0%, #eef3fa 100%);
      font-family: "Sora", "Avenir Next", "Trebuchet MS", sans-serif;
    }

    .shell {
      width: min(1200px, 94vw);
      margin: 32px auto 64px;
      display: grid;
      gap: 18px;
    }

    .hero {
      background: linear-gradient(115deg, #122646 0%, #193d72 54%, #1f507f 100%);
      color: #f3f9ff;
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow);
      padding: clamp(18px, 3.5vw, 34px);
      overflow: clip;
      position: relative;
      isolation: isolate;
    }

    .hero::after {
      content: "";
      position: absolute;
      inset: auto -15% -40% auto;
      width: 380px;
      aspect-ratio: 1;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.24), rgba(255,255,255,0));
      pointer-events: none;
      z-index: -1;
    }

    .hero-eyebrow {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.22);
      font-size: 12px;
      letter-spacing: .08em;
      text-transform: uppercase;
      opacity: .95;
      background: rgba(255,255,255,0.08);
    }

    .hero h1 {
      margin: 14px 0 10px;
      font-size: clamp(1.55rem, 3.2vw, 2.35rem);
      line-height: 1.16;
      max-width: 24ch;
      letter-spacing: -0.02em;
    }

    .hero p {
      margin: 0;
      max-width: 76ch;
      color: rgba(240, 247, 255, 0.9);
      font-size: clamp(.95rem, 1.65vw, 1.05rem);
      line-height: 1.55;
    }

    .main {
      display: grid;
      gap: 16px;
      align-items: start;
    }

    .workbench {
      display: grid;
      grid-template-columns: minmax(0, 1.35fr) minmax(290px, 0.82fr);
      gap: 16px;
      align-items: start;
    }

    .panel {
      border: 1px solid var(--line);
      border-radius: var(--radius-lg);
      background: var(--bg-1);
      box-shadow: var(--shadow);
      padding: var(--card-pad);
      animation: pop .45s var(--ease) both;
    }

    .panel h2 {
      margin: 0;
      font-size: clamp(1.05rem, 2.2vw, 1.45rem);
      line-height: 1.2;
      letter-spacing: -0.015em;
    }

    .sub {
      margin: 8px 0 0;
      color: var(--ink-1);
      line-height: 1.45;
      font-size: .95rem;
    }

    .kpis {
      margin-top: 14px;
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 10px;
    }

    .kpi {
      border: 1px solid var(--line);
      border-radius: var(--radius-md);
      padding: 10px;
      background: linear-gradient(180deg, #fff 0%, #f8fbff 100%);
    }

    .kpi .k {
      font-size: 12px;
      color: var(--ink-1);
      margin: 0;
      letter-spacing: .02em;
    }

    .kpi .v {
      margin: 6px 0 0;
      font-weight: 650;
      font-size: 1.05rem;
      letter-spacing: -0.01em;
    }

    .progress-wrap {
      margin-top: 14px;
      border: 1px solid var(--line);
      border-radius: 999px;
      height: 12px;
      overflow: hidden;
      background: #e9eff8;
    }

    .progress-bar {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, var(--accent), #45a8f5);
      transition: width .25s var(--ease);
    }

    .section {
      margin-top: 14px;
      border: 1px solid var(--line);
      border-radius: var(--radius-md);
      overflow: clip;
      background: #fcfdff;
    }

    .section-head {
      padding: 12px 14px;
      border-bottom: 1px solid var(--line);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      background: linear-gradient(180deg, #fafdff 0%, #f4f8ff 100%);
    }

    .section-head h3 {
      margin: 0;
      font-size: 15px;
      letter-spacing: .01em;
    }

    .tag {
      font-size: 11px;
      border-radius: 999px;
      padding: 4px 8px;
      border: 1px solid var(--line);
      color: var(--ink-1);
      background: #fff;
      white-space: nowrap;
    }

    .section-body {
      padding: 14px;
      display: grid;
      gap: 12px;
    }

    .grid-2 {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px;
    }

    label {
      display: block;
      margin: 0 0 6px;
      font-size: 13px;
      color: #274167;
      letter-spacing: .01em;
    }

    input[type="text"],
    input[type="email"],
    input[type="tel"],
    select,
    textarea {
      width: 100%;
      border: 1px solid #c7d5ea;
      border-radius: var(--radius-sm);
      background: #fff;
      color: var(--ink-0);
      padding: 11px 12px;
      font: inherit;
      font-size: 14px;
      line-height: 1.35;
      transition: border-color .2s ease, box-shadow .2s ease;
    }

    textarea {
      min-height: 90px;
      resize: vertical;
    }

    input:focus,
    select:focus,
    textarea:focus {
      border-color: rgba(11, 107, 203, 0.72);
      box-shadow: 0 0 0 3px rgba(11, 107, 203, 0.16);
      outline: none;
    }

    .choice-grid {
      display: grid;
      gap: 8px;
    }

    .choice-grid.two {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }

    .choice {
      border: 1px solid #cfdbef;
      border-radius: 10px;
      padding: 9px 10px;
      background: #fff;
      display: grid;
      gap: 6px;
      transition: border-color .2s ease, background .2s ease;
      position: relative;
    }

    .choice:has(input:checked) {
      border-color: #2a84dd;
      background: #f4faff;
    }

    .choice input {
      margin: 0;
      inline-size: 16px;
      block-size: 16px;
    }

    .choice-row {
      display: flex;
      align-items: flex-start;
      gap: 8px;
    }

    .choice small {
      color: var(--ink-1);
      font-size: 12px;
      line-height: 1.35;
    }

    .help {
      margin: 0;
      font-size: 12px;
      color: #4f6590;
      line-height: 1.45;
    }

    details {
      border: 1px dashed #c5d4ea;
      border-radius: var(--radius-md);
      background: linear-gradient(180deg, #fcfeff 0%, #f7faff 100%);
      overflow: hidden;
    }

    summary {
      cursor: pointer;
      padding: 12px 14px;
      font-weight: 600;
      color: #1a355f;
      list-style: none;
      user-select: none;
    }

    summary::-webkit-details-marker {
      display: none;
    }

    details[open] > summary {
      border-bottom: 1px solid #d9e4f4;
      background: rgba(255,255,255,0.78);
    }

    details .detail-body {
      padding: 12px 14px 14px;
      display: grid;
      gap: 12px;
    }

    .actions {
      margin-top: 14px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    button {
      border: 1px solid #c4d3e8;
      background: #fff;
      color: #17355f;
      font: inherit;
      border-radius: 10px;
      padding: 10px 14px;
      cursor: pointer;
      transition: transform .15s ease, background .2s ease, border-color .2s ease;
    }

    button:hover {
      transform: translateY(-1px);
      background: #f8fbff;
      border-color: #9eb5d7;
    }

    button.primary {
      background: linear-gradient(180deg, #0d76d4 0%, #0a61b0 100%);
      border-color: #08559d;
      color: #fff;
    }

    button.primary:hover {
      background: linear-gradient(180deg, #0e81e7 0%, #0a66ba 100%);
    }

    button.success {
      background: linear-gradient(180deg, #0f9870 0%, #0a7d5d 100%);
      border-color: #0a684e;
      color: #fff;
    }

    .alert {
      margin-top: 10px;
      border-radius: 10px;
      padding: 10px 12px;
      border: 1px solid #d4e2f5;
      background: #f4f8ff;
      color: #20406d;
      font-size: 13px;
      line-height: 1.45;
    }

    .alert.error {
      border-color: #edc6c2;
      background: #fff6f5;
      color: #7c3026;
    }

    .alert.good {
      border-color: #bde5d6;
      background: #f3fcf7;
      color: #16543f;
    }

    .recommendationPanel {
      margin-top: 12px;
      border-color: #c8dbf5;
      background: linear-gradient(180deg, #f8fbff 0%, #f4f9ff 100%);
    }

    .recTierCard {
      border: 1px solid #cbdbf1;
      border-radius: 12px;
      background: #fff;
      padding: 12px;
      display: grid;
      gap: 5px;
    }

    .recLabel {
      margin: 0;
      font-size: 12px;
      letter-spacing: .04em;
      text-transform: uppercase;
      color: #47628c;
    }

    .recTier {
      margin: 0;
      font-size: 1.25rem;
      font-weight: 700;
      letter-spacing: -0.01em;
      color: #0d3566;
    }

    .recWhy {
      margin: 0;
      color: #3f5981;
      font-size: 14px;
      line-height: 1.45;
    }

    .recCols {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }

    .recCol {
      border: 1px solid #d5e2f4;
      border-radius: 10px;
      background: #fff;
      padding: 10px 12px;
    }

    .recCol h4 {
      margin: 0 0 8px;
      color: #173a6b;
      font-size: 14px;
    }

    .recCol ul,
    .recCol ol {
      margin: 0;
      padding-left: 18px;
      color: #2f4f7a;
      font-size: 13px;
      line-height: 1.45;
      display: grid;
      gap: 5px;
    }

    .missing {
      border-color: #df8a80 !important;
      background: #fff8f7 !important;
    }

    .right-rail {
      display: grid;
      gap: 12px;
      align-items: start;
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .pill {
      font-size: 12px;
      border: 1px solid var(--line);
      color: #1c4f86;
      background: #f0f7ff;
      border-radius: 999px;
      padding: 5px 9px;
    }

    .pill.muted {
      color: #55749e;
      background: #f6f9ff;
    }

    .selection-panel {
      position: sticky;
      top: 14px;
      display: grid;
      gap: 12px;
    }

    .selection-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px;
    }

    .selection-cell {
      border: 1px solid #d8e4f5;
      border-radius: 10px;
      padding: 10px;
      background: linear-gradient(180deg, #ffffff 0%, #f7fbff 100%);
      min-height: 72px;
    }

    .selection-k {
      margin: 0;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: .05em;
      color: #4f6790;
    }

    .selection-v {
      margin: 6px 0 0;
      font-size: 14px;
      line-height: 1.35;
      color: #173a6b;
      font-weight: 600;
    }

    .selection-v.muted {
      color: #6a7f9f;
      font-weight: 500;
    }

    .selection-block {
      border: 1px solid #d7e3f4;
      border-radius: 11px;
      background: #fbfdff;
      padding: 10px;
      display: grid;
      gap: 7px;
    }

    .selection-list {
      display: grid;
      gap: 7px;
    }

    .selection-row {
      display: grid;
      grid-template-columns: 110px 1fr;
      gap: 10px;
      align-items: baseline;
      font-size: 13px;
    }

    .selection-row b {
      color: #365886;
      font-weight: 600;
    }

    .selection-row span {
      color: #173a6b;
      font-weight: 600;
      line-height: 1.35;
    }

    .selection-row span.muted {
      color: #6a7f9f;
      font-weight: 500;
    }

    .selection-stack {
      display: grid;
      gap: 8px;
    }

    .followup-customer {
      border-color: #c9ddf7;
      background: linear-gradient(180deg, #f9fcff 0%, #f4f9ff 100%);
    }

    .followup-dynamic-form {
      display: grid;
      gap: 11px;
    }

    .followup-item {
      border: 1px solid #d7e5f7;
      border-radius: 10px;
      background: #fff;
      padding: 10px;
      display: grid;
      gap: 8px;
    }

    .followup-item-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
    }

    .followup-item-head label {
      margin: 0;
      font-weight: 600;
      color: #1d3f70;
    }

    .followup-stage {
      font-size: 11px;
      border-radius: 999px;
      padding: 4px 8px;
      border: 1px solid #cbdcf2;
      background: #f4f8ff;
      color: #3f6190;
      white-space: nowrap;
    }

    .followup-checklist {
      display: grid;
      gap: 8px;
    }

    .gap-item {
      padding: 8px 10px;
      gap: 2px;
    }

    .gap-title {
      font-size: 13px;
      color: #1a3f72;
      font-weight: 600;
    }

    .gap-meta {
      color: #5c7497;
      font-size: 12px;
    }

    .followup-output {
      border: 1px solid #cfe0f6;
      border-radius: 10px;
      background: #f8fbff;
      padding: 10px;
      display: grid;
      gap: 8px;
    }

    .mono-link {
      display: block;
      font-family: "IBM Plex Mono", "SFMono-Regular", Menlo, Consolas, monospace;
      font-size: 12px;
      line-height: 1.45;
      color: #21528b;
      text-decoration: none;
      word-break: break-all;
    }

    .mono-link:hover {
      text-decoration: underline;
    }

    pre {
      margin: 0;
      max-height: 380px;
      overflow: auto;
      padding: 12px;
      border-radius: 10px;
      border: 1px solid #d8e4f4;
      background: #f7faff;
      color: #1f375d;
      font-family: "IBM Plex Mono", "SFMono-Regular", Menlo, Consolas, monospace;
      font-size: 12px;
      line-height: 1.48;
    }

    .embed {
      font-size: 12px;
      color: #40608f;
      line-height: 1.5;
    }

    .embed code {
      display: block;
      margin-top: 8px;
      background: #eff6ff;
      border: 1px solid #d3e2f7;
      border-radius: 8px;
      padding: 10px;
      overflow: auto;
      font-family: "IBM Plex Mono", "SFMono-Regular", Menlo, Consolas, monospace;
      white-space: pre;
    }

    @media (max-width: 1080px) {
      .workbench {
        grid-template-columns: 1fr;
      }

      .selection-panel {
        position: static;
      }

      .kpis {
        grid-template-columns: 1fr 1fr;
      }
    }

    @media (max-width: 680px) {
      .grid-2,
      .choice-grid.two,
      .selection-grid {
        grid-template-columns: 1fr;
      }

      .recCols {
        grid-template-columns: 1fr;
      }

      .kpis {
        grid-template-columns: 1fr;
      }
    }

    @keyframes pop {
      from {
        opacity: 0;
        transform: translateY(7px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>
<body>
  <div class="shell">
    <header class="hero">
      <span class="hero-eyebrow">Standalone prototype</span>
      <h1>Customer Self-Service Discovery Widget</h1>
      <p>
        This is intentionally separate from the current app. A customer can complete quick discovery on your website,
        and the output becomes an AE-ready record for follow-up.
      </p>
    </header>

    <main class="main">
      <div class="workbench">
      <section class="panel customer-panel" aria-labelledby="widgetHeading">
        <h2 id="widgetHeading">Customer Discovery</h2>
        <p class="sub">Progressive disclosure: start lean, then add depth only if useful.</p>

        <div class="kpis" aria-label="readiness summary">
          <article class="kpi">
            <p class="k">AE-ready progress</p>
            <p class="v" id="aeReadyText">0 / 8</p>
          </article>
          <article class="kpi">
            <p class="k">Intent score</p>
            <p class="v" id="intentScoreText">0 / 100</p>
          </article>
          <article class="kpi">
            <p class="k">Intent band</p>
            <p class="v" id="intentBandText">Low</p>
          </article>
        </div>

        <div class="progress-wrap" aria-hidden="true">
          <div class="progress-bar" id="aeProgressBar"></div>
        </div>

        <section class="section followup-customer" id="customerFollowupPanel" hidden>
          <div class="section-head">
            <h3>Follow-up questions</h3>
            <span class="tag" id="customerFollowupCount">0 questions</span>
          </div>
          <div class="section-body">
            <p class="help" id="customerFollowupIntro">
              A follow-up request was sent for this record. Please complete the short list below.
            </p>
            <form id="customerFollowupForm" class="followup-dynamic-form"></form>
            <div class="actions" style="margin-top:0;">
              <button type="button" id="btnApplyFollowupAnswers" class="primary">Save follow-up answers</button>
            </div>
          </div>
        </section>

        <div class="section" id="stageA">
          <div class="section-head">
            <h3>Stage A 路 Quick discovery (required)</h3>
            <span class="tag">2-3 min</span>
          </div>
          <div class="section-body">
            <div>
              <label for="role">1) Which best describes your role?</label>
              <select id="role" data-required="true">
                <option value="">Select role...</option>
                <option value="ciso">CISO</option>
                <option value="secMgr">Security manager</option>
                <option value="practitioner">Security practitioner</option>
                <option value="executive">Executive sponsor</option>
                <option value="other">Other</option>
              </select>
            </div>

            <div class="grid-2">
              <div>
                <label for="fullName">2) Your name</label>
                <input id="fullName" type="text" placeholder="Jane Doe" data-required="true" />
              </div>
              <div>
                <label for="company">3) Company</label>
                <input id="company" type="text" placeholder="Company name" data-required="true" />
              </div>
            </div>

            <div>
              <label for="operatingCountry">4) Operating country</label>
              <select id="operatingCountry" data-required="true">
                <option value="">Select country...</option>
                <option>United States</option>
                <option>United Kingdom</option>
                <option>Germany</option>
                <option>France</option>
                <option>Canada</option>
                <option>Australia</option>
                <option>Singapore</option>
                <option>Japan</option>
                <option>Other / multiple</option>
              </select>
            </div>

            <fieldset id="pressureSourcesFieldset">
              <label>5) Where is pressure coming from? (pick up to 3)</label>
              <div class="choice-grid two">
                <label class="choice"><span class="choice-row"><input type="checkbox" name="pressureSources" value="board" /><span>Board</span></span></label>
                <label class="choice"><span class="choice-row"><input type="checkbox" name="pressureSources" value="regulator" /><span>Regulator</span></span></label>
                <label class="choice"><span class="choice-row"><input type="checkbox" name="pressureSources" value="insurer" /><span>Insurer</span></span></label>
                <label class="choice"><span class="choice-row"><input type="checkbox" name="pressureSources" value="customers" /><span>Customers</span></span></label>
                <label class="choice"><span class="choice-row"><input type="checkbox" name="pressureSources" value="internal" /><span>Internal only</span></span></label>
              </div>
              <p class="help">Selected: <span id="pressureCount">0</span> / 3</p>
            </fieldset>

            <fieldset id="urgentWinFieldset">
              <label>6) Most urgent 90-day win</label>
              <div class="choice-grid two">
                <label class="choice"><span class="choice-row"><input type="radio" name="urgentWin" value="boardEvidence" /><span>Board-ready evidence</span></span></label>
                <label class="choice"><span class="choice-row"><input type="radio" name="urgentWin" value="fasterDecisions" /><span>Faster response decisions</span></span></label>
                <label class="choice"><span class="choice-row"><input type="radio" name="urgentWin" value="attackSurface" /><span>Shrink attack surface</span></span></label>
                <label class="choice"><span class="choice-row"><input type="radio" name="urgentWin" value="workforce" /><span>Workforce readiness</span></span></label>
              </div>
            </fieldset>

            <fieldset id="groupsFieldset">
              <label>7) Teams in scope</label>
              <div class="choice-grid two">
                <label class="choice"><span class="choice-row"><input type="checkbox" name="groups" value="soc" /><span>SOC / IR</span></span></label>
                <label class="choice"><span class="choice-row"><input type="checkbox" name="groups" value="secops" /><span>Security operations</span></span></label>
                <label class="choice"><span class="choice-row"><input type="checkbox" name="groups" value="dev" /><span>Engineering / DevSecOps</span></span></label>
                <label class="choice"><span class="choice-row"><input type="checkbox" name="groups" value="leaders" /><span>Security leadership</span></span></label>
                <label class="choice"><span class="choice-row"><input type="checkbox" name="groups" value="it" /><span>IT / platform</span></span></label>
              </div>
            </fieldset>

            <fieldset id="fitScopeFieldset">
              <label>8) Scope requirement</label>
              <div class="choice-grid two">
                <label class="choice">
                  <span class="choice-row"><input type="radio" name="fitScope" value="single" /><span>Single team</span></span>
                  <small>Focused use case</small>
                </label>
                <label class="choice">
                  <span class="choice-row"><input type="radio" name="fitScope" value="multi" /><span>Multi-team</span></span>
                  <small>Cross-functional rollout</small>
                </label>
                <label class="choice">
                  <span class="choice-row"><input type="radio" name="fitScope" value="enterprise" /><span>Enterprise</span></span>
                  <small>Broad regional/business coverage</small>
                </label>
              </div>
            </fieldset>
          </div>
        </div>

        <details id="stageB">
          <summary>Stage B 路 Qualification depth (optional)</summary>
          <div class="detail-body">
            <div class="grid-2">
              <div>
                <label for="companySize">Company size</label>
                <select id="companySize">
                  <option value="">Select...</option>
                  <option value="lt500">&lt; 500</option>
                  <option value="500-2k">500 - 2,000</option>
                  <option value="2k-10k">2,000 - 10,000</option>
                  <option value="10k-50k">10,000 - 50,000</option>
                  <option value="50kplus">50,000+</option>
                </select>
              </div>
              <div>
                <label for="rhythm">Cadence today</label>
                <select id="rhythm">
                  <option value="">Select...</option>
                  <option value="ad_hoc">Ad hoc</option>
                  <option value="quarterly">Quarterly</option>
                  <option value="monthly">Monthly</option>
                  <option value="continuous">Continuous</option>
                </select>
              </div>
            </div>

            <fieldset>
              <label>Risk environments (pick up to 2)</label>
              <div class="choice-grid two">
                <label class="choice"><span class="choice-row"><input type="checkbox" name="riskEnvs" value="code" /><span>Code / app</span></span></label>
                <label class="choice"><span class="choice-row"><input type="checkbox" name="riskEnvs" value="cloud" /><span>Cloud</span></span></label>
                <label class="choice"><span class="choice-row"><input type="checkbox" name="riskEnvs" value="identity" /><span>Identity</span></span></label>
                <label class="choice"><span class="choice-row"><input type="checkbox" name="riskEnvs" value="socir" /><span>SOC / IR</span></span></label>
              </div>
            </fieldset>

            <div class="grid-2">
              <div>
                <label for="measuredOn">Measured on today</label>
                <select id="measuredOn">
                  <option value="">Select...</option>
                  <option value="completion">Completion only</option>
                  <option value="mix">Completion + some performance</option>
                  <option value="performance">Performance outcomes</option>
                </select>
              </div>
              <div>
                <label for="orgPain">Biggest pain point</label>
                <select id="orgPain">
                  <option value="">Select...</option>
                  <option value="proof">Cannot prove readiness</option>
                  <option value="speed">Slow response decisions</option>
                  <option value="skills">Skills and readiness gaps</option>
                  <option value="reg">Audit or regulator pressure</option>
                </select>
              </div>
            </div>
          </div>
        </details>

        <details id="stageC">
          <summary>Stage C 路 Solution shaping (optional)</summary>
          <div class="detail-body">
            <div class="grid-2">
              <div>
                <label for="fitRealism">Realism requirement</label>
                <select id="fitRealism">
                  <option value="">Select...</option>
                  <option value="generic">Generic scenarios</option>
                  <option value="tooling">Tooling-aware scenarios</option>
                  <option value="bespoke">Mirror environment</option>
                </select>
              </div>
              <div>
                <label for="fitToday">Current state</label>
                <select id="fitToday">
                  <option value="">Select...</option>
                  <option value="starting">Early stage</option>
                  <option value="developing">Developing practice</option>
                  <option value="mature">Mature, scaling further</option>
                </select>
              </div>
            </div>
            <div class="grid-2">
              <div>
                <label for="fitServices">Delivery support</label>
                <select id="fitServices">
                  <option value="">Select...</option>
                  <option value="diy">Self-serve</option>
                  <option value="guided">Guided program support</option>
                  <option value="whiteglove">Managed partnership</option>
                </select>
              </div>
              <div>
                <label for="fitRiskFrame">Risk framing</label>
                <select id="fitRiskFrame">
                  <option value="">Select...</option>
                  <option value="compliance">Compliance-driven</option>
                  <option value="operational">Operational resilience</option>
                  <option value="business">Business risk and value</option>
                </select>
              </div>
            </div>

            <div class="grid-2">
              <div>
                <label for="industry">Industry</label>
                <input id="industry" type="text" placeholder="e.g. Financial services" />
              </div>
              <div>
                <label for="region">Region / footprint</label>
                <select id="region">
                  <option value="">Select...</option>
                  <option value="NA">North America</option>
                  <option value="UKI">UK &amp; Ireland</option>
                  <option value="EU">Europe</option>
                  <option value="APAC">APAC</option>
                  <option value="Other">Other / global</option>
                </select>
              </div>
            </div>

            <div>
              <label for="regs">Regulatory references (comma separated)</label>
              <input id="regs" type="text" placeholder="e.g. DORA, NIS2, ISO 27001" />
            </div>
          </div>
        </details>

        <details id="stageD">
          <summary>Stage D 路 Contact and handoff (submit stage)</summary>
          <div class="detail-body">
            <div class="grid-2">
              <div>
                <label for="email">Business email (required to submit)</label>
                <input id="email" type="email" placeholder="name@company.com" />
              </div>
              <div>
                <label for="phone">Phone (optional)</label>
                <input id="phone" type="tel" placeholder="+1 555 123 4567" />
              </div>
            </div>
            <div>
              <label for="notes">Notes for AE (optional)</label>
              <textarea id="notes" placeholder="Upcoming milestones, timeline, stakeholders, etc."></textarea>
            </div>
            <label class="choice" style="display:block;">
              <span class="choice-row">
                <input id="optin" type="checkbox" />
                <span>Keep me updated on product news and events</span>
              </span>
            </label>
          </div>
        </details>

        <div class="actions">
          <button type="button" id="btnRecommend" class="primary">See initial recommendation</button>
          <button type="button" id="btnSaveDraft">Save draft</button>
          <button type="button" id="btnLoadDraft">Load draft</button>
          <button type="button" id="btnClear">Clear</button>
          <button type="button" id="btnSubmit" class="success">Submit for AE review</button>
        </div>

        <div id="statusMessage" class="alert" role="status" aria-live="polite">
          This prototype stores draft data in your browser only.
        </div>
      </section>

      <aside class="right-rail">
        <section class="panel selection-panel" aria-labelledby="selectionHeading">
          <h2 id="selectionHeading">Your Selection</h2>
          <p class="sub">Live summary of what the customer has configured so far.</p>

          <div class="selection-grid">
            <article class="selection-cell">
              <p class="selection-k">Contact</p>
              <p class="selection-v muted" id="selContact">Not entered yet</p>
            </article>
            <article class="selection-cell">
              <p class="selection-k">Role</p>
              <p class="selection-v muted" id="selRole">Not selected</p>
            </article>
            <article class="selection-cell">
              <p class="selection-k">Operating country</p>
              <p class="selection-v muted" id="selCountry">Not selected</p>
            </article>
            <article class="selection-cell">
              <p class="selection-k">Urgent 90-day win</p>
              <p class="selection-v muted" id="selUrgentWin">Not selected</p>
            </article>
          </div>

          <div class="selection-block">
            <p class="selection-k">Scope snapshot</p>
            <div class="selection-list">
              <div class="selection-row"><b>Company</b><span class="muted" id="selCompany">Not entered</span></div>
              <div class="selection-row"><b>Scope</b><span class="muted" id="selScope">Not selected</span></div>
              <div class="selection-row"><b>Intent band</b><span id="selIntentBand">Low</span></div>
              <div class="selection-row"><b>AE-ready</b><span id="selAeReady">0 / 8</span></div>
            </div>
          </div>

          <div class="selection-stack">
            <div class="selection-block">
              <p class="selection-k">Pressure sources</p>
              <div class="pill-row" id="selPressurePills">
                <span class="pill muted">None yet</span>
              </div>
            </div>
            <div class="selection-block">
              <p class="selection-k">Teams in scope</p>
              <div class="pill-row" id="selGroupPills">
                <span class="pill muted">None yet</span>
              </div>
            </div>
            <div class="selection-block">
              <p class="selection-k">Risk environments</p>
              <div class="pill-row" id="selRiskPills">
                <span class="pill muted">Optional</span>
              </div>
            </div>
            <div class="selection-block">
              <p class="selection-k">Regulatory references</p>
              <p class="selection-v muted" id="selRegs">Optional</p>
            </div>
          </div>
        </section>

        <section class="panel recommendationPanel" id="initialRecommendationPanel" hidden>
          <div class="section-head">
            <h3>Initial recommendation</h3>
            <span class="tag" id="recConfidenceTag">Confidence: 0%</span>
          </div>
          <div class="section-body">
            <article class="recTierCard">
              <p class="recLabel">Suggested starting package</p>
              <p class="recTier" id="recTierName">Core package</p>
              <p class="recWhy" id="recSummary">Complete Stage A to generate recommendation rationale.</p>
            </article>
            <div class="recCols">
              <article class="recCol">
                <h4>Why this fit</h4>
                <ul id="recReasons"></ul>
              </article>
              <article class="recCol">
                <h4>Suggested next steps</h4>
                <ol id="recNextSteps"></ol>
              </article>
            </div>
          </div>
        </section>
      </aside>
      </div>

      <section class="panel">
        <h2>AE Queue Preview</h2>
        <p class="sub">This is the record object an AE/SDR queue would receive.</p>
        <div class="pill-row" id="pillRow">
          <span class="pill">Status: draft_customer</span>
          <span class="pill">Band: low</span>
          <span class="pill">Owner: AE queue</span>
        </div>

        <pre id="recordPreview">{}</pre>
        <div class="actions" style="margin-top: 10px;">
          <button type="button" id="btnCopyJson">Copy JSON</button>
          <button type="button" id="btnDownloadJson">Download JSON</button>
          <button type="button" id="btnOpenDashboard">Open dashboard</button>
        </div>
      </section>

      <section class="panel">
        <h2>Embed Pattern</h2>
        <p class="embed">
          This page can run as a hosted route, iframe embed, or script-injected module.
          Simple iframe integration example:
          <code>&lt;iframe src="/widget" title="Readiness discovery" width="100%" height="980" style="border:0; border-radius:16px;"&gt;&lt;/iframe&gt;</code>
        </p>
      </section>
    </main>
  </div>

  <script src="../assets/js/customer-self-service-widget-prototype.js"></script>
</body>
</html>
